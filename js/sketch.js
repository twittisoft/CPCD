// Generated by CoffeeScript 2.5.1
var COLORS, ballClicked, balls, clicked, createColors, draw, level, mousePressed, passive, radie, range, reset, setup;

balls = [];

radie = 100;

range = _.range;

//röd blå grön gul svart vit cyan magenta
//COLORS = "#f008 #00f8 #0f08 #ff08 #0008 #fff8 #0ff8 #f0f8".split " "
COLORS = [];

clicked = [];

level = 0;

ballClicked = 0;

passive = 0;

createColors = function(s) {
  var b, g, j, k, l, len, len1, len2, r, result;
  result = [];
  for (j = 0, len = s.length; j < len; j++) {
    r = s[j];
    for (k = 0, len1 = s.length; k < len1; k++) {
      g = s[k];
      for (l = 0, len2 = s.length; l < len2; l++) {
        b = s[l];
        result.push("#" + r + g + b + "8");
      }
    }
  }
  return result;
};

reset = function(delta) {
  var i, j, len, ref, results, x, y;
  COLORS = createColors("0f");
  console.log(delta);
  console.log(COLORS);
  level += delta;
  if (level === 0) {
    level = 1;
  }
  balls = [];
  clicked = [];
  passive = 0;
  ref = range(level);
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    i = ref[j];
    x = int(random(width));
    y = int(random(height));
    balls.push({
      x: x,
      y: y,
      rgb: COLORS[i],
      passive: true
    });
    x = int(random(width));
    y = int(random(height));
    results.push(balls.push({
      x: x,
      y: y,
      rgb: COLORS[i],
      passive: true
    }));
  }
  return results;
};

setup = function() {
  createCanvas(windowWidth, windowHeight);
  radie = windowHeight / 4;
  return reset(1);
};

draw = function() {
  var ball, j, len, results;
  background(255);
  results = [];
  for (j = 0, len = balls.length; j < len; j++) {
    ball = balls[j];
    if (ball.passive) {
      fill(ball.rgb);
      ellipse(ball.x, ball.y, radie * 2);
      fill(0);
      
      results.push(textSize(radie / 5));
    } else {
      results.push(void 0);
    }
  }
  return results;
};

//textAlign CENTER,CENTER
//text "#{JSON.stringify clicked} #{ballClicked}",ball.x,ball.y
mousePressed = function() {
  var b, ball, j, len;
  console.log(mouseX, mouseY);
  ballClicked = 0;
//passive=0
  for (j = 0, len = balls.length; j < len; j++) {
    ball = balls[j];
    if (dist(ball.x, ball.y, mouseX, mouseY) < radie && ball.passive === true) {
      ballClicked++;
      b = ball;
    }
  }
  if (ballClicked !== 1) {
    return reset(-1);
  }
  passive++;
  console.log("inside");
  clicked.push(b);
  console.log("clicked.length", clicked.length);
  b.passive = false;
  if (clicked.length !== 2) {
    return;
  }
  if (clicked[1].rgb !== clicked[0].rgb) {
    return reset(-1);
  } else {
    clicked = [];
  }
  if (passive === balls.length) {
    return reset(1);
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsTUFBQSxFQUFBLFdBQUEsRUFBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLFlBQUEsRUFBQSxJQUFBLEVBQUEsS0FBQSxFQUFBLFlBQUEsRUFBQSxPQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUE7O0FBQUEsS0FBQSxHQUFROztBQUNSLEtBQUEsR0FBUTs7QUFDUixLQUFBLEdBQVEsQ0FBQyxDQUFDLE1BRlY7Ozs7QUFLQSxNQUFBLEdBQVM7O0FBQ1QsT0FBQSxHQUFROztBQUNSLEtBQUEsR0FBTTs7QUFDTixXQUFBLEdBQWM7O0FBQ2QsT0FBQSxHQUFVOztBQUVWLFlBQUEsR0FBZSxRQUFBLENBQUMsQ0FBRCxDQUFBO0FBQ2YsTUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLENBQUEsRUFBQTtFQUFDLE1BQUEsR0FBUztFQUNULEtBQUEsbUNBQUE7O0lBQ0MsS0FBQSxxQ0FBQTs7TUFDQyxLQUFBLHFDQUFBOztRQUNDLE1BQU0sQ0FBQyxJQUFQLENBQVksR0FBQSxHQUFJLENBQUosR0FBTSxDQUFOLEdBQVEsQ0FBUixHQUFVLEdBQXRCO01BREQ7SUFERDtFQUREO1NBSUE7QUFOYzs7QUFRZixLQUFBLEdBQVEsUUFBQSxDQUFDLEtBQUQsQ0FBQTtBQUNSLE1BQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxDQUFBLEVBQUE7RUFBQyxNQUFBLEdBQVMsWUFBQSxDQUFhLElBQWI7RUFDVCxPQUFPLENBQUMsR0FBUixDQUFZLEtBQVo7RUFDQSxPQUFPLENBQUMsR0FBUixDQUFZLE1BQVo7RUFDQSxLQUFBLElBQU87RUFDUCxJ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QUFNLENBQU4sRUFBckM7O0FBakJjIiwic291cmNlc0NvbnRlbnQiOlsiYmFsbHMgPSBbXVxyXG5yYWRpZSA9IDEwMFxyXG5yYW5nZSA9IF8ucmFuZ2VcclxuI3LDtmQgYmzDpSBncsO2biBndWwgc3ZhcnQgdml0IGN5YW4gbWFnZW50YVxyXG4jQ09MT1JTID0gXCIjZjAwOCAjMDBmOCAjMGYwOCAjZmYwOCAjMDAwOCAjZmZmOCAjMGZmOCAjZjBmOFwiLnNwbGl0IFwiIFwiXHJcbkNPTE9SUyA9IFtdXHJcbmNsaWNrZWQ9W11cclxubGV2ZWw9MFxyXG5iYWxsQ2xpY2tlZCA9IDBcclxucGFzc2l2ZSA9IDBcclxuXHJcbmNyZWF0ZUNvbG9ycyA9IChzKS0+XHJcblx0cmVzdWx0ID0gW11cclxuXHRmb3IgciBpbiBzXHJcblx0XHRmb3IgZyBpbiBzXHJcblx0XHRcdGZvciBiIGluIHNcclxuXHRcdFx0XHRyZXN1bHQucHVzaCBcIiNcIityK2crYitcIjhcIlxyXG5cdHJlc3VsdFxyXG5cclxucmVzZXQgPSAoZGVsdGEpLT5cclxuXHRDT0xPUlMgPSBjcmVhdGVDb2xvcnNcdFwiMGZcIlxyXG5cdGNvbnNvbGUubG9nIGRlbHRhXHJcblx0Y29uc29sZS5sb2cgQ09MT1JTIFxyXG5cdGxldmVsKz1kZWx0YVxyXG5cdGlmIGxldmVsPT0wIHRoZW4gbGV2ZWw9MVxyXG5cdGJhbGxzID0gW11cclxuXHRjbGlja2VkID0gW11cclxuXHRwYXNzaXZlID0gMFxyXG5cdGZvciBpIGluIHJhbmdlIGxldmVsXHJcblx0XHR4ID0gaW50IHJhbmRvbSB3aWR0aFxyXG5cdFx0eSA9IGludCByYW5kb20gaGVpZ2h0XHJcblx0XHRiYWxscy5wdXNoIHt4OngseTp5LHJnYjpDT0xPUlNbaV0scGFzc2l2ZTp0cnVlfVxyXG5cdFx0eCA9IGludCByYW5kb20gd2lkdGhcclxuXHRcdHkgPSBpbnQgcmFuZG9tIGhlaWdodFxyXG5cdFx0YmFsbHMucHVzaCB7eDp4LHk6eSxyZ2I6Q09MT1JTW2ldLHBhc3NpdmU6dHJ1ZX1cclxuXHJcblxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIHdpbmRvd1dpZHRoLCB3aW5kb3dIZWlnaHRcclxuXHRyYWRpZSA9IHdpbmRvd0hlaWdodC80XHJcblx0cmVzZXQgMVxyXG5cclxuXHJcbmRyYXcgPSAtPlxyXG5cdGJhY2tncm91bmQgMjU1XHJcblx0Zm9yIGJhbGwgaW4gYmFsbHNcclxuXHRcdGlmIGJhbGwucGFzc2l2ZVxyXG5cdFx0XHRmaWxsIGJhbGwucmdiIFxyXG5cdFx0XHRlbGxpcHNlIGJhbGwueCxiYWxsLnkscmFkaWUqMlxyXG5cdFx0XHRmaWxsIDBcclxuXHRcdFx0I1xyXG5cdFx0XHR0ZXh0U2l6ZSByYWRpZS81XHJcblx0XHRcdCN0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdFx0XHQjdGV4dCBcIiN7SlNPTi5zdHJpbmdpZnkgY2xpY2tlZH0gI3tiYWxsQ2xpY2tlZH1cIixiYWxsLngsYmFsbC55XHJcblxyXG5cclxubW91c2VQcmVzc2VkID0gLT5cclxuXHRjb25zb2xlLmxvZyBtb3VzZVgsIG1vdXNlWVxyXG5cdGJhbGxDbGlja2VkPTBcclxuXHQjcGFzc2l2ZT0wXHJcblx0Zm9yIGJhbGwgaW4gYmFsbHMgXHJcblx0XHRpZiBkaXN0KGJhbGwueCxiYWxsLnksIG1vdXNlWCwgbW91c2VZKTxyYWRpZSBhbmQgYmFsbC5wYXNzaXZlPT10cnVlXHJcblxyXG5cdFx0XHRiYWxsQ2xpY2tlZCsrXHJcblx0XHRcdGI9YmFsbFxyXG5cdGlmIGJhbGxDbGlja2VkIT0xIHRoZW4gcmV0dXJuIHJlc2V0IC0xXHJcblx0cGFzc2l2ZSsrXHJcblx0Y29uc29sZS5sb2cgXCJpbnNpZGVcIlxyXG5cdGNsaWNrZWQucHVzaCBiIFxyXG5cdGNvbnNvbGUubG9nIFwiY2xpY2tlZC5sZW5ndGhcIixjbGlja2VkLmxlbmd0aFxyXG5cdGIucGFzc2l2ZT1mYWxzZVxyXG5cdGlmIGNsaWNrZWQubGVuZ3RoIT0yIHRoZW4gcmV0dXJuXHJcblx0aWYgY2xpY2tlZFsxXS5yZ2IhPWNsaWNrZWRbMF0ucmdiIHRoZW4gcmV0dXJuIHJlc2V0IC0xIGVsc2UgY2xpY2tlZCA9IFtdXHJcblx0aWYgcGFzc2l2ZT09YmFsbHMubGVuZ3RoIHRoZW4gcmV0dXJuIHJlc2V0IDFcclxuIl19
//# sourceURL=c:\Users\twittisoft\CPCD\coffee\sketch.coffee